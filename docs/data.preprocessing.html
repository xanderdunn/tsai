---

title: Data preprocessing


keywords: fastai
sidebar: home_sidebar

summary: "Functions used to preprocess time series (both X and y)."
description: "Functions used to preprocess time series (both X and y)."
nb_path: "nbs/003_data.preprocessing.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/003_data.preprocessing.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dsid</span> <span class="o">=</span> <span class="s1">&#39;NATOPS&#39;</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="n">dsid</span><span class="p">,</span> <span class="n">return_split</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Categorize</span><span class="p">()]</span>
<span class="n">dsets</span> <span class="o">=</span> <span class="n">TSDatasets</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ToNumpyCategory" class="doc_header"><code>class</code> <code>ToNumpyCategory</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L13" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ToNumpyCategory</code>(<strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Categorize a numpy batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">y_cat</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([3, 2, 2, 3, 2, 4, 0, 5, 2, 1])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">tensor</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="OneHot" class="doc_header"><code>class</code> <code>OneHot</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L31" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>OneHot</code>(<strong><code>n_classes</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>One-hot encode/ decode a batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)</span>
<span class="n">oht</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 0., 1., 0.],
       [1., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 1.],
       [0., 0., 1., 0., 0., 0.],
       [0., 1., 0., 0., 0., 0.]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oht</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oht</span><span class="p">,</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oht</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oha</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oha</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oha</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oha</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSStandardize" class="doc_header"><code>class</code> <code>TSStandardize</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L48" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSStandardize</code>(<strong><code>mean</code></strong>=<em><code>None</code></em>, <strong><code>std</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Standardizes batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_min" class="doc_header"><code>Tensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L110" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_min</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_min" class="doc_header"><code>TSTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L110" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_min</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_min" class="doc_header"><code>NumpyTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L110" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_min</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_max" class="doc_header"><code>Tensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L119" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_max</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_max" class="doc_header"><code>TSTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L119" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_max</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_max" class="doc_header"><code>NumpyTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L119" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_max</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSNormalize" class="doc_header"><code>class</code> <code>TSNormalize</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L128" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSNormalize</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>range</code></strong>=<em><code>(-1, 1)</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Normalizes batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSStandardize mean shape=(128, 1, 1), std shape=(128, 1, 1), by_sample=True, by_var=False, by_step=False

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">xb</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>TSTensor(samples:128, vars:24, len:51)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSNormalize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClipOutliers" class="doc_header"><code>class</code> <code>TSClipOutliers</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L167" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClipOutliers</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Clip outliers batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a> based on the IQR</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSClipOutliers</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSClipOutliers min=-1, max=1

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSRobustScale" class="doc_header"><code>class</code> <code>TSRobustScale</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L204" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSRobustScale</code>(<strong><code>median</code></strong>=<em><code>None</code></em>, <strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>This Scaler removes the median and scales the data according to the quantile range (defaults to IQR: Interquartile Range)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">clipped_xb</span> <span class="o">=</span> <span class="n">TSRobustScale</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="n">true</span><span class="p">)(</span><span class="n">xb</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">clipped_xb</span><span class="p">,</span> <span class="n">xb</span><span class="p">)</span>
<span class="n">clipped_xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">clipped_xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(-0.6025803685188293,
 1.0614336729049683,
 -2.7678210735321045,
 2.5364139080047607)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDiff" class="doc_header"><code>class</code> <code>TSDiff</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L243" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDiff</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Differences batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">()(</span><span class="n">t</span><span class="p">)[</span><span class="o">...</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">(</span><span class="n">lag</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLog" class="doc_header"><code>class</code> <code>TSLog</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L255" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLog</code>(<strong><code>enc</code></strong>=<em><code>None</code></em>, <strong><code>dec</code></strong>=<em><code>None</code></em>, <strong><code>split_idx</code></strong>=<em><code>None</code></em>, <strong><code>order</code></strong>=<em><code>None</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Log transforms batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a>. For positive values only</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">TSLog</span><span class="p">()(</span><span class="n">t</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLogReturn" class="doc_header"><code>class</code> <code>TSLogReturn</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L265" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLogReturn</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Calculates log-return of batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a>. For positive values only</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">256</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSLogReturn</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSAdd" class="doc_header"><code>class</code> <code>TSAdd</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L277" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSAdd</code>(<strong><code>add</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Add a defined amount to each batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">t</span><span class="p">),</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Nan2Value" class="doc_header"><code>class</code> <code>Nan2Value</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L288" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Nan2Value</code>(<strong><code>value</code></strong>=<em><code>0</code></em>, <strong><code>median</code></strong>=<em><code>True</code></em>, <strong><code>by_sample_and_var</code></strong>=<em><code>True</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Replaces any nan values by a predefined value</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">o</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span><span class="p">[</span><span class="n">o</span> <span class="o">&gt;</span> <span class="o">.</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">],</span> <span class="p">:,</span> <span class="o">-</span><span class="mi">20</span><span class="p">:]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">nan_vals1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">o2</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">Nan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_sample_and_var</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">nan_vals2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">nan_vals1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="y-transforms">y transforms<a class="anchor-link" href="#y-transforms"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">class</span> <span class="nc">TargetTransformer</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preprocessor</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocessor</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
        
    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span> 
        <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span>
    
    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">o</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span> <span class="n">o</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="n">o</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">o_shape</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">shape</span>
        <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">,</span> <span class="s1">&#39;copy&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">*</span><span class="n">o_shape</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">*</span><span class="n">o_shape</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">inverse_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">o_shape</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">shape</span>
        <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">,</span> <span class="s1">&#39;copy&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">*</span><span class="n">o_shape</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">*</span><span class="n">o_shape</span><span class="p">)</span>
        
<span class="n">Normalizer</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">MinMaxScaler</span><span class="p">,</span> <span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">BoxCox</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">PowerTransformer</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;box-cox&#39;</span><span class="p">)</span>
<span class="n">YeoJohnshon</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">PowerTransformer</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;yeo-johnson&#39;</span><span class="p">)</span>
<span class="n">Quantile</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">QuantileTransformer</span><span class="p">,</span> <span class="n">n_quantiles</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">output_distribution</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.validation</span> <span class="kn">import</span> <span class="n">TimeSplitter</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">TargetTransformer</span><span class="p">(</span><span class="n">StandardScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">TargetTransformer</span><span class="p">(</span><span class="n">RobustScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="o">.</span><span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">TargetTransformer</span><span class="p">(</span><span class="n">Normalizer</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">TargetTransformer</span><span class="p">(</span><span class="n">BoxCox</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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DhzQokWLZLfbAz+8ydjPl9x0003Kz8/XZ599Nub7ydTXl9cRyu5sydbvodzbUnL1eSj3txSdvo5bwB86dEi1tbVjvvfII4/owQcf1B/+8IegAB/p7rvv1rlz5wK7P6WmpiolJUX9/f0xqXmkUHawGhgYUGdnp4qKinT8+HFJUmFh4YR3uYqW9PR0VVVVqaenR06nc8zNWEwmkx5++GHt379ffr9f0sW+jVe/jlRcXCyTyaQvv/wy0JaWlhZUT7L18+UWLVqkzz77bMzRe7L19SWh7s6WTP0eyr0tJV+fh3J/S9Hp67h9yDo8PKzBwcFR/6WmpmrJkiV6++23rxru0sVnV8uWLVN+fr4yMjL0xBNP6PTp03F7Bh/qDla1tbVasmSJMjMzNWPGDC1evFiffPJJXGocaf78+TKZTHrjjTeu+AMwODiou+66S48//rgsFousVqseeeQRffrpp/Et9v/LyMjQsmXLNHPmTKWnp+uBBx6Q2WwOmoUgJVc/X2727NlXvJeTra8vmcjubMnS76Hc21Ly9Xmo97cUeV8nfLngmTNn6oUXXhg12mlsbNRrr72mJUuW6LbbbtNrr72mlJQU/eAHP9A999yj1NRUNTc3a/v27WN+qBIrt99++6gdrLq7u/Xyyy+rurpaR44ckclkUkVFhe6++275/X7t3r1b//rXv+JW4+XKy8t13333jfpn69atW/XYY48Fas7Pz1d5ebluvvlmeb1e1dbWavfu3WP+czcevv/97+uBBx5QZmZm4MN0j8eTtP18SW5url555RU9//zzQc9TL687Wfr6l7/8pY4cORKYm32le3tk/Yns98trvtq9feTIkaTq85F9faX7W4puXyc84AEAsZEU8+ABANFHwAOAQRHwAGBQBDwAGBQBDwAGRcADgEER8ABgUAQ8ABjU/wOrFDUajcHNmgAAAABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">TargetTransformer</span><span class="p">(</span><span class="n">YeoJohnshon</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABBwAAABTCAYAAAA82hSvAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuMiwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8vihELAAAACXBIWXMAAAsTAAALEwEAmpwYAAAViklEQVR4nO3deVDU9xnH8Q/sQjgjZ0SOeICY4BELaiREGGsdUYlJxphoGwPOZBztNQYzsQ61TTOhjTJjU60NyThtU51WTaIxKkYb62g8ggkazyB4cqhcQkAWkIXtHw47EgQRF9jF92uGGfa3v/0+z67PrLsP3+/35xQeHm4RAAAAAACADTn3dgIAAAAAAKDvoeEAAAAAAABsjoYDAAAAAACwORoOAAAAAADA5mg4AAAAAAAAm6PhAAAAAAAAbI6GAwDALjk5OSkhIUHLli3TX/7yF/3xj39USkqKHnnkkU6PkZSUpLS0NElSbGysVq5c2eV8YmNjlZ6eLkmKjIxUZmam3N3duzze7TIzM/XEE09IktLT0xUbG2uTcVvG+/GPf2yz8QAAADrL2NsJAABwJz/5yU80adIkbdq0SVeuXJGPj4+mTJmiJUuW6A9/+IOqq6vvabyjR48qNzfXejszM1Pvvfeejh8/fs+5XbhwQWlpaaqvr7/rucnJyXJ3d1dmZma756Slpd3z8+lsvIyMjE7lCQAAYGvMcAAA2KX4+Hjt2LFDR48e1bVr15Sbm6s1a9bIYrEoOjr6nsdraGhQZWWlTXIzm82qqKiQxWK5r3GcnW/9N1xRUaHGxkZbpNZGVVUVDQcAANArmOEAALBLHh4e8vf3b3XMbDZr9erVqq2tlXTrr/lGo1GVlZWKi4tTQ0OD9u3bp127drUZLzY2VrNmzVJqaqr1r/8LFy7U9u3btX379jbnDxs2TC+99JICAwNVUFCgvLw8632RkZFKTU3Va6+9prq6Oo0dO1bTpk1TQECAqqqqtHPnTh06dEjJycnW5RHp6elKS0tTamqqCgoK5Ofnp8jISL3++uttZlsEBATotdde0+DBg1VWVqatW7fqxIkT1nH27Nmj//3vf5Ikf39/paen6+2339akSZPaxLv9fCcnJyUlJSkuLk4PPfSQLl++rE8++USFhYWSpNTUVF26dEkeHh6KiYlRU1OT9uzZo507d3b9HxIAADywmOEAALBL33zzjRITE7V48WIlJiYqIiJCRqNRly9fVnl5ufW8H/3oR3J1dVVGRoY2b96sqVOn6umnn+5w7JZ9HdavX689e/a0ud/b21sLFy5UXl6e3nnnHR0+fFiTJk2641gDBgxQSkqKdu7cqbffflv//e9/9fLLLyssLEwff/yxjh49qjNnzigjI8P6mISEBBUUFLQ6drvJkyfr6NGjWr58uU6fPq0FCxYoODj4rq9Ze/FaTJs2TRMmTNCGDRu0YsUKXbx4UYsXL5avr6/1nIkTJ6qqqkorVqzQ3r179eyzzyooKOiusQEAAH6IGQ4AALu0ceNGXbt2TWPGjNEzzzwjg8Gg+vp6HT58WB999JGam5slSdXV1dq4caMsFouuXbumwYMHKyEhQQcOHGh37IqKCklSTU2N6urq2tw/YcIEVVZWasOGDZKk4uJihYaGauTIkW3ObdnE8tKlSyotLVVJSYlMJpNu3ryp2tpaNTQ0yNnZWVVVVdbHnDt3Tp9//nm7+R04cED79u2TJG3evFlRUVF6+umntWnTpg5fs/biSZLRaNTkyZO1ceNGffvtt5KkrVu3atiwYZo4caI2b95sfR4tMz6ysrKUmJiokJAQXbt2rcPYAAAAP0TDAQBgl5qbm7V3717t3btXLi4uGjJkiMaNG6eEhATV1NQoKytLklRQUNBqL4WioiLFxcXdV+zQ0FBduHCh1bHLly/fseGQm5urc+fOadmyZcrPz1deXp6OHTumkpKSdse/evVqh/EvXbrU5nZAQEDnn8AdBAQEyM3NrdXSEOnW69W/f/9Wt1tYLBY1NjbK1dX1vmIDAIAHEw0HAIDdGTJkiOLj4/XPf/5TktTY2KizZ8/q7NmzMhgMeuyxx6wNhzu5380cDQZDm2MtGzz+UENDg/785z8rLCxMjz/+uKKiojRjxgx98MEH1pkE95rfD+83GAy6efPmHc81Gjv3X7mLi4skqampqdVxV1fXVmO3zBwBAAC4X+zhAACwO2azWePHj7/jvgU3b95s9QU5JCSk1f1Dhgy56wyCu7l69aoGDx7cZtw7iYmJUWJiogoLC7V79269++67On36tEaPHt3l+IMGDWpzu7i4WNKt16aleSCp0/srlJWVqampqc3zioiIaDWrAQAAwFZoOAAA7E5BQYFOnjypBQsWKDo6Wv3791dERISSkpIUGxur/fv3W8/19/fX888/rwEDBmjChAkaP368df+DjjQ2NiokJEQeHh5t7tu3b58CAgI0a9YshYSEaMKECe02EEwmk6ZPn664uDgFBQVp1KhRGjRokC5evGiN4+vre09LIp566ik9+eSTCg4O1syZM+Xr66svv/xS0q1myKhRo+Tq6iovLy9NmTKlzfO6U7z6+nodPHhQL7zwgkaMGKGwsDD99Kc/lbu7u3VsAAAAW2JJBQDALr3//vuaNGmSpk+froCAANXX1+vixYtatWqV8vPzreedOXNGnp6eWrJkiUwmk7Zs2aLs7Oy7jn/o0CFNnTpVZrNZu3fvbnVfZWWl3nvvPb300kuKj49Xfn6+Pv30UyUmJrYZ57vvvtOWLVs0ZcoU+fj4qKamRvv27bM2RXJychQdHa2f//zneuuttzr13LOyshQfH69HH31UJSUlWrNmjW7cuCHp1iaS8+bNU0ZGhq5fv66dO3e2mn3RUbyPPvpIkjRv3jy5uLjo8uXLWrVqlUwmU6fyAgAAuBdO4eHh97fQFQCAXpKcnCx3d3dlZmb2dioAAAD4AZZUAAAAAAAAm6PhAAAAAAAAbI4lFQAAAAAAwOaY4QAAAAAAAGyux65S4ebmptDQUNXU1KipqamnwgIAAAAAeoDBYJC3t7eKiopUX1/f2+nADvRYwyE0NFQTJ07sqXAAAAAAgF6wd+9enTt3rrfTgB3osYZDTU2NJGnDhiSVlfn3VFgAAADA7j22/uXeTgG4b9613hp/arz1ux/QYw2HlmUUZWX+Ki4O6qmwAAAAgN3r/3Blb6cA2AxL6NGCTSMBAAAAAIDN0XAAAAAAAAA212NLKgAAAAAAcCRGo1Hu7u69nYZdqqurk9ls7vAcZjgAAAAAAPADoaGh8vfnggft8ff3V2hoaIfnMMMBAAAAAIDbGI1GNTY2qqSkpLdTsVs1NTUKCgqS0Whsd6YDMxwAAAAAALiNu7u7TCZTb6dh90wmU4dLTjrdcEhJSVFcXJxNkgIAAAAAAI7NYrF0eP9dl1QMHz5cw4cP17hx45Sfn2+zxAAAAAAAQN9114bDwIEDZTQaVV1d3RP5AAAAAABgl86fP9ftMcLDI7o9Rk+5a8MhKytLkhQUFNTtyQAAAAAAgM5ZtGiRhg4dKkkyGAxqbm62LnP46quvtG7duk6NM3ToUKWkpCgtLc2m+XXLVSqSkpKUlJTU6lhtba1yc3O7IxwAAAAAAA+cd9991/p7amqq8vLytH379jbnOTs7q7m5ud1x8vPzbd5skLqp4bB9+/Y2TzIgIEDPP/98d4QDAAAAAAC3iY2N1fjx41VVVaWBAwfqzTff1JgxYzRjxgz5+PiooqJCW7du1bfffqvIyEjNmzdPS5cuVVJSkvr37y8nJyc9/vjjMplM+sc//qELFy7ccw5cFhMAAAAAgD5o6NChys3N1VtvvSUXFxe98sor+vDDD7Vo0SLt3r1bc+fOvePjoqOjdeTIES1ZskS5ubmaMWNGl+LTcAAAAAAAoA8qKSnR4cOHrXs7ZGRk6Pz58/Ly8pKTk5M8PT3l7Ny2LZCbm6sTJ07IbDbr2LFj8vPz61L8bllSAQAAAAAAeldtba31d4vFooSEBI0YMULXr19XSUlJu4+7ceOG9ffm5mYZDIYuxe90w2HlypVdCgAAAAAAAHrXk08+qUcffVS//e1vZTabFRoaqtjY2G6NyQwHAAAAAAD6OIPBIGdnZ7m4uMjHx0fPPPOMJMlo7L62AA0HAAAAAAA6ITw8ordT6LKvvvpKI0aM0PLly1VWVqbNmzerX79+mj9/vnbv3t0tMZ3Cw8Mt3TLyD7RcFnP16mQVFwf1REgAAADAIUTnxPR2CsB986321eTsydqyZYvKy8t7O5374u3tLUmqqanp5Uzs291eJ65SAQAAAAAAbI6GAwAAAAAAsDkaDgAAAAAAwOZoOAAAAAAAAJvrsatUGAwGSVJgYEVPhQQAAAAcgm+1b2+nANw379pbGwi2fPcDeqzh0LJ75ezZ23sqJAAAAOAYsif3dgaAzXh7e6ukpKS304Ad6LGGQ1FRkQYNGqRVq1apqampp8IC3WLp0qX605/+1NtpAPeFOkZfQS2jL6CO0RcYDAb9+te/VlFRUW+nAjvRYw2H+vp6+fv70+lCn+Dp6enw1xYGqGP0FdQy+gLqGH2Fv7+/6uvrezuNbtNvU79uj/H9i993e4yewqaRAAAAAAA4oGnTpun3v/99m+MxMTFatWqV3Nzc2n1samqq4uLiJElr1qxRQEDAHc9LT09XZGRkl/Kj4QAAAAAAgAPKzs5W//79FRwc3Op4TEyMjh8/3unZJr/4xS+6ZZZVjy2pAAAAAAAAtlNRUaHz589rzJgx+uyzzyRJrq6uGjFihN5//335+flp7ty5GjJkiBoaGnT06FFt2rRJzc3NrcbJzMzUsmXLVFZWppiYGM2cOVMeHh7Kzs6Wk5NTl/Pr0RkO27dzhQr0DdQy+gLqGH0FtYy+gDpGX0Et97zs7GzFxMRYb48aNUp1dXU6c+aMnn32WV25ckWLFy/WO++8o1GjRmnkyJHtjuXr66u5c+fq3//+t9544w2ZTCb5+fl1OTcaDkAXUMvoC6hj9BXUMvoC6hh9BbXc83JycuTn56ewsDBJUnR0tI4cOSKLxaLPP/9c27Ztk8FgkKenp8xms7y8vNoda+zYsTp9+rROnTqlmzdvatu2baqrq+tybiypAAAAAADAQdXV1enEiROKiYlRaWmpRowYoRUrVkiSQkJCtHDhQjU1Nam4uPiuyyP8/f1VUVFhvd3c3Kyampou50bDAQAAAAAAB5adna1Zs2apqKhIpaWlKioqkouLi5KTk7Vy5UpdvHhRkpSWltbhONXV1a02oDQajXr44Ye7nBdXqQAAAAAAwIGdOnVKbm5uSkpKUnZ2tiTJ2dlZzs7OcnFxkZubmxISEhQcHCyjsf15Bzk5ORo+fLiioqLk6uqqGTNmyNXVtct5McMBAAAAAIBO+P7F73s7hTtqbm7WN998o/j4eGvDoaGhQRs3btT8+fMlSYcOHdKWLVs0c+ZMHT9+/I7jXLt2TevWrdOcOXPk5eWlL7/8UsXFxV3Oyyk8PNzS5UcDAAAAANDHeHt7S9J97V/wILjb69QjMxwiIiI0Z84cBQYG6vLly1q3bp1KS0t7IjRwz6KiojRz5kwFBgbq+vXr2rFjh77++usO65gah716+OGH9bvf/U5r165Vbm4udQyH069fP82dO1cRERGqra3Vrl27tH//fmoZDiU2NlZTp06Vj4+PysrK9Omnn+rkyZPUMRxGSkqK8vPzdfDgQUkd1yd1jdt1+x4Obm5uWrBggb744gu98cYbysvL06uvvtrdYYEu8fT01Pz587Vnzx4tXrxYn3zyiV555RWFhIS0W8fUOOzZyy+/LA8PD0kd1yp1DHv16quvqrCwUEuWLNHatWv1wgsv8J4MhxIYGKg5c+Zo7dq1WrRokXbs2KH58+fzngyHMHz4cL344osaN26c9VhXa5e6fjB1e8PhiSeeUHl5uQ4fPqz6+nplZWUpKChIAwYM6O7QwD0bOnSoKioqdOjQITU2NurkyZO6cuWKRo8e3W4dU+OwV0899ZQaGxtVWVkpqeP3Y+oY9ig4OFh+fn767LPP1NDQoIsXL2r58uUKCwujluEwLBaLmpub5ezsLIvl1krmhoYGPlvAIQwcOFBGo1HV1dXWY139PEFdP5i6fUlFaGioCgoKrLebmppUUlKiRx55RFevXu3u8MA9OXfunNauXWu97enpqYCAAI0fP17fffed9fjtdUyNwx75+voqMTFRK1as0NKlSyV1/H5MHcMeDRo0SOXl5UpOTlZUVJRMJpO2bdumkJAQahkOo7y8XF988YV+85vfWI/9/e9/V1hYGHUMu5eVlSVJCgoKsh7r6ucJ6rpvcnJysjZT76TbGw7u7u66ceNGq2P19fVyc3Pr7tDAPbtx44a1XiMiIjR37lwVFhaqvLxcJpOp1bktdUyNwx4lJydr69atrWqzo1qljmGPvL29NWzYMK1fv17r169XRESEFi5cqEuXLlmvJ96CWoa9ioiI0MSJE5WRkaGCggLFxsbqZz/7mb7++mvek+GQuvp5wtHquq6uTv7+/mwaeRceHh4qLy9v9/5ubziYTKY21+186KGH2nx5A+yFm5ubZs+erdGjR2vXrl3atWuXnnvuuXbrmBqHvUlISFBtba1ycnJaHe+oVqlj2Kvi4mIdOHBAkpSbm6uzZ88qKiqqzSW6qGXYq+joaOXk5Oj8+fOSpP3792vixIl67LHHdOLEiVbnUsdwBF39POFodW02m+Xi4qKgoCCZTKYO/4r/IHJycpKHh4eMRqPMZnO753V7w+Hq1auKjY213jYYDAoMDFRhYWF3hwbumYuLi15//XVVV1frzTffVFVVlaSO69jLy4sah10ZNmyYRo4cqdWrV0u6Vde//OUvVVdX12rKInUMe1deXi5n59bbTTk7O2vTpk0aM2aM9Ri1DHt28+ZNGY2tP3I3NTVp79691DEcUlc/FztiXRcVFcloNMrd3b23U7E7FotF5eXlHTYbpB7YNPLYsWMKCQnRqFGj5Orqqueee06XLl2yfpED7MnYsWNlNBr1t7/9rVWNdlTH1DjszQcffKBf/epX1p+Kigr99a9/1bJly6hjOJTTp0/L29tbCQkJMhqNioqK0uDBg3Xq1ClqGQ7jxIkTiomJUUREhIxGo8aNGycvLy8dOXKEOoZD6urnYketa7PZrJqaGn7u8HO3ZoMkOYWHh3f73JBhw4Zpzpw58vPz0/nz5/Xhhx/afWHhwTR79mzFx8e3mTL1r3/9S1VVVe3WMTUOe5aenq5169YpNze3w1qljmGPQkJCNHv2bIWFham0tFQff/yx8vLyqGU4lDFjxmj69Ony9fXVlStX9J///EeFhYXUMRxGamqqsrOzdfDgQUkd1yd1jdv1SMMBAAAAAAA8WLp9SQUAAAAAAHjw0HAAAAAAAAA2R8MBAAAAAADYHA0HAAAAAABgczQcAAAAAACAzdFwAAAAAAAANkfDAQAAAAAA2BwNBwAAAAAAYHM0HAAAAAAAgM39H3qevEuXh3HDAAAAAElFTkSuQmCC
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">TargetTransformer</span><span class="p">(</span><span class="n">Quantile</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">,</span> <span class="mf">1e-1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.external</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">X</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">splits</span> <span class="o">=</span> <span class="n">get_regression_data</span><span class="p">(</span><span class="s1">&#39;AppliancesEnergy&#39;</span><span class="p">,</span> <span class="n">split_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">std_tfm</span> <span class="o">=</span> <span class="n">TargetTransformer</span><span class="p">(</span><span class="n">StandardScaler</span><span class="p">)</span>
<span class="n">std_tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">std_tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSRegression</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">y_tfm</span><span class="p">,</span><span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">512</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="o">=</span><span class="n">first</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">)</span>
<span class="n">yb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">yb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">yb</span><span class="o">.</span><span class="n">numpy</span><span class="p">(),</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">std_tfm</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ReLabeler" class="doc_header"><code>ReLabeler</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L310" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ReLabeler</code>(<strong><code>cm</code></strong>)</p>
</blockquote>
<p>Changes the labels in a dataset based on a dictionary (class mapping)
Args:
    cm = class mapping dictionary</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vals</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="s1">&#39;e&#39;</span><span class="p">}</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">)])</span>
<span class="n">labeler</span> <span class="o">=</span> <span class="n">ReLabeler</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">))</span>
<span class="n">y_new</span> <span class="o">=</span> <span class="n">labeler</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y_new</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">y</span><span class="p">,</span> <span class="n">y_new</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([&#39;a&#39;, &#39;d&#39;, &#39;d&#39;, &#39;e&#39;, &#39;b&#39;, &#39;c&#39;, &#39;b&#39;, &#39;d&#39;, &#39;c&#39;, &#39;e&#39;, &#39;c&#39;, &#39;b&#39;, &#39;c&#39;,
        &#39;d&#39;, &#39;a&#39;, &#39;e&#39;, &#39;a&#39;, &#39;a&#39;, &#39;b&#39;, &#39;a&#39;], dtype=&#39;&lt;U1&#39;),
 array([&#39;x&#39;, &#39;z&#39;, &#39;z&#39;, &#39;z&#39;, &#39;x&#39;, &#39;y&#39;, &#39;x&#39;, &#39;z&#39;, &#39;y&#39;, &#39;z&#39;, &#39;y&#39;, &#39;x&#39;, &#39;y&#39;,
        &#39;z&#39;, &#39;x&#39;, &#39;z&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;], dtype=&#39;&lt;U1&#39;))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

